<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="Linux, Macintosh, QNX Info" />
    <title>Инсталляция системы QNX4</title>

    <!-- Bootstrap -->
    <link href="http://wiki.victor3d.com.br/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
<nav class="navbar navbar-inverse" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <div class="navbar-brand"><img src="http://wiki.victor3d.com.br/img/classicmac.gif" width=24 height=31></div>
      <a class="navbar-brand" href="http://wiki.victor3d.com.br/">Wiki</a>
    </div>
        <form class="navbar-form navbar-left" role="search" action="https://duckduckgo.com/" method="get">
        <div class="form-group">
          <input type="text" placeholder="Search wiki" class="form-control" name="q" id="q">	
	<input type="hidden" name="sites" value="wiki.victor3d.com.br">
        </div>

        <button type="submit" class="btn btn-default">Search</button>
      </form>

  <ul class="nav navbar-nav navbar-right">
        <li><a href="http://www.google.com/recaptcha/mailhide/d?k=01MUDgC_dbbmgUXg66PjkbZg==&c=30d-wikjS5CWPbvZPBnBWhAfd39_adr_D1ylDoUa0vo=" onclick="window.open('http://www.google.com/recaptcha/mailhide/d?k=01MUDgC_dbbmgUXg66PjkbZg==&c=30d-wikjS5CWPbvZPBnBWhAfd39_adr_D1ylDoUa0vo=', '', 'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=500,height=300'); return false;" title="Reveal this e-mail address">E-mail</a></li>
</ul>
  </div><!-- /.container -->
</nav>
<div class="container text-center">
<iframe data-aa='326661' src='https://ad.a-ads.com/326661?size=728x90' scrolling='no' style='width:728px; height:90px; border:0px; padding:0;overflow:hidden' allowtransparency='true' frameborder='0'></iframe>
</div>
<br>
</div>


    <div class="container">

      <div class="starter-template text-center">
        <h1>Инсталляция системы QNX4</h1>
      </div>

    </div><!-- /.container -->

  <div class="container">
 <div class="row">
  <div class="col-md-8 col-md-offset-2">
<p>Вы наверняка видели demodisk операционной системы QNX4. Если нет, то спешите попробовать его - вам понравится ( www.demodisk.com ) . И почти наверняка вы захотите поставить себе полную версию. На данный момент последняя версия 4.25C. На ее примере и описывается установка.</p>
<p>Для начала вам надо достать дистрибутив : 5 дискет + 1 загрузочная. Это сама система с набором базовых файлов. Ставится только с дискет. Образы дискет находятся в файле qnx4.25.pdiskset.tar.F. Эти образы сделаны командой cp image /dev/fd0 , поэтому если вы делаете образы не в Unix, у вас могут быть трудности. Для начала надо распаковать - ( инструкции для Dos/Windows )</p>
<pre>C:\>freeze -id qnx4.25.pdiskset.tar.F ( если у вас старая версия freeze, то используйте короткие имена файлов, а лучше скачайте новую версию freeze32 [ by Mike Gorchak ] .
C:\>tar xvf qnx4.25.pdiskset.tar ( tar.exe лежит в архиве утилит </pre>
<p class="bg-info">В unix загрузочную дискету надо форматировать так : fdformat -k0 -z2 /dev/fd0 В противном случае при загрузке с этой дискеты возможны сбои. Устраняются сбои установкой меньшей частоты процессора ( для AMD предел - 200-233 Mhz ).</p>
<p>Теперь вам необходимо записать полученные файлы на дискеты. Для этого используется программа rawrite .</p>
<p class="bg-info">Если по каким-то причинам вы не используете эту программу, то возьмите Norton Disk Editor из комплекта Norton Utilities. В нем открывается файл с образом и с помощью [ Объект/Записать в .../Физические сектора/Диск А:/1.44Mb ] записывается на дискету. </p>
<p>Далее вам необходимо выделить место на жестком диске. Для средней установки надо около 100-150 мегабайт, если же вы планируете надстраивать систему, например ставить X-Windows, то чем больше тем лучше. Для разбиения диска рекомендуется использовать Partition Magic. Раздел надо делать unformatted. Делать раздел лучше всего на первом диске ( иначе будут сложности, и все равно придется ставить диск первым до первой перезагрузки ). Раздел должен быть primary.</p>
<p class="bg-info">Если вы хотите с этого диска загружать также другие ОС, то вам необходим менеджер операционных систем. Подойдет System Commander или SyMon . Если вы используете System Commander при установке активного раздела будьте внимательны - установите раздел на котором расположены файлы SC. QNX заменяет MBR, поэтому вам придется его обновлять.</p>
<p>После первой загрузки и входа в систему администратором ( root ) подключите диски Dos.</p>
<pre>#Dosfsys -L</pre>
<p>Эта команда автоматически подключит первый раздел вашего жесткого диска ( /dos/c ) и дискету ( /dos/a). Ключ -L означает, что мы хоти видет длиныые имена.</p>
<p>Следующий файл, который надо установить - патч системы. На данный момент последний патч для ядра 4.25 называется "С". Копируем с Dos-раздела патч.</p>
<pre>#cp /dos/c/_patchC.tar.F /</pre>
<p>Копируем в корень, оттуда будем ставить</p>
<pre>#install -u _patchC.tar.F</pre>
<p>Так в QNX выполняется установка файлов. Ключ -u означает распаковку. Если вы находитесть не в корневом каталоге, install порекомендует вам сменить его, т.к. распаковываться все может в текущий ( ./ ) каталог.
В ядро QNX вставлена возможность защиты от копирования программных продуктов. Защита выполняется на уровне лицензий, которые должны копировать в специальный файл, расположенный в /.licenses ( т.е. файл расположен в корневом каталоге - / и имеет имя .licenses ). Официально лицензию можно получить в фирме QSSL, указав при этом номер вашего продукта, указанного на коробке. </p>
<p>Если же вы не имеете этой коробки, то придется использовать следующий метод. С раздела Dos копируем патченный Proc32.( cksum: 2013672935 130615 Proc32 ).</p>
<p class="bg-info">При установке критичных файлов, особенно если вы их загружали через сеть, используйте для проверки файла утилиту cksum. Если у вас ее еще нету, то вы можете загрузить ее себе. Версия для Windows( в комплекте с другими полезными утилилитами) и для QNX.</p>
<pre>#cp /dos/c/Proc32 /boot/sys</pre>
<p>Теперь надо пересобрать ядро.</p>
<pre>#cd /boot
# rm /images/hard.#
#make b=hard.#
#cp /.boot /.altboot
#cp images/hard.# /.boot</pre>
<p>Вместо знака # ставим номер текущего узла, если вы работаете не в сети, то это 1. Ваше старое ядро сохранено в /.altboot, и теперь при нажатии на ESC во время загрузки ( "Press ESC to boot alternate OS.") будет загружаться оно. Это обязательно надо делать, т.к. если ядро будет испорчено, то система не загрузится. Тогда вам уже надо будет загружать систему с дискеты. <br>
Теперь можно перезагружаться. </p>
<pre>#shutdown -f</pre>
<p>Загружаемся, входим. Теперь можно ставить программное обеспечение, не опасаясь, что оно не заработает. Ну или почти не опасаясь :).<br>
Первым делом ставим файловый менеджер под консоль - аналог Norton Commander под Dos.</p>
<pre>#cp /dos/c/mqc21a.tgz /
#cd /
#gzip -d mqc21a.tgz
#tar xvf mqc21a.tar
#cd /bin
#ln -s mqc /mqc/2.1a/mqc
#ln -s med /mqc/2.1a/med
#mqc</pre>
<p>Теперь вам надо создать пользователя, под которым вы будете работать</p>
<pre>#passwd username</pre>
<p>и установить пароль на пользователя root</p>
<pre>#passwd</pre>
<p>Теперь можно устанавливать софт: Photon, Voyager, Watcom C, TCP/IP etc...<br>
Вход в MicroGUI Photon осуществляется коммандой</p>
<pre>#ph</pre>
<p>В принципе, пока все...</p>

</div></div></div>

 <br>

<div class="container text-center">
<iframe data-aa='326665' src='https://ad.a-ads.com/326665?size=468x60' scrolling='no' style='width:468px; height:60px; border:0px; padding:0;overflow:hidden' allowtransparency='true' frameborder='0'></iframe>
</div>
  <div id="footer">
      <div class="container">
        <p class="text-muted text-center">2017&copy;Victor3D</p>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="http://wiki.victor3d.com.br/js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://wiki.victor3d.com.br/js/bootstrap.min.js"></script>
  </body>
</html>
