---
layout: page
title: Перекидываем своп виртуальной памяти
---

Размещение виртуальной памяти указано в /etc/rc

Поэтому редактируем его через

```shell
sudo pico /etc/rc
```

Там ищем 

```
echo "Starting virtual memory"
swapdir=/private/var/vm
```

и меняем swapdir на то, что нам надо. Например

```
echo "Starting virtual memory"
swapdir=/Volumes/swap/vm
```

Диск со свапом можно сделать маленький, например размером с удвоенное количество установленной оперативки.

### Второй способ.

Создаем соответствующий диск, называем его "vm" и монтируем сразу на место для обычного свопа. 

Для этого сперва узнаем его BSD-название. Можно через

```shell
df -k 
```

Будет, например, disk0s3

Теперь узнаем UUID этого диска: 

```shell
diskutil info disk0s3
```

Будет, например, 4236231D-1117-333F-8899-3235F9B8000E

Зная UUID, редактируем fstab, чтобы наш своповый диск смонтировался куда надо: 

```shell
sudo pico -w /etc/fstab
```

и там прописываем

```
UUID=4236231D-1117-333F-8899-3235F9B8000E /private/var/vm hfs rw 1 2
```

Теория говорит, что вместо опции rw на своп надо ставить sw, тогда строка будет

```
UUID=4236231D-1117-333F-8899-3235F9B8000E /private/var/vm hfs sw 1 2
```

После рестарта наш своп на новом диске, который нам не мешает

В принципе, редактируя fstab, мы можем подмонтировать любой диск при стартапе куда угодно, например диск с домашними папками юзеров сразу в /Users

За наводку с UUID спасибо IGYLA.

Иными словами, man fstab 
