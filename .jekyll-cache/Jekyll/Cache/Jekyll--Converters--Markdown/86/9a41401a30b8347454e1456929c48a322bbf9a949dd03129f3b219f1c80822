I"G<p>Add pt_BR.UTF-8 locale:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>dpkg-reconfigure locales
</code></pre></div></div>

<p>Edit file /etc/default/keyboard</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>XKBMODEL="pc105"
XKBLAYOUT="us,ru"
XKBVARIANT="intl,"
XKBOPTIONS="grp:ctrl_shift_toggle,lv3:ralt_alt"

BACKSPACE="guess"
</code></pre></div></div>

<p>Commit changes</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>service keyboard-setup restart
<span class="nb">sudo </span>udevadm trigger <span class="nt">--subsystem-match</span><span class="o">=</span>input <span class="nt">--action</span><span class="o">=</span>change
</code></pre></div></div>

<p>Some nice fellow decided that an accented c (“ć”) is more importante than the c with a cedilla (“ç”), so the default behavior for pressing ‘ + c in international keyboards with deadkeys is now “ć”. Since I’m Brazilian and not Romanian or something, that definetly bothers me. ‘ + c used to output “ç” once upon a time.</p>

<p>To fix it, edit as root the file /usr/lib/i386-linux-gnu/gtk-2.0/2.10.0/gtk.immodules, find this line:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"cedilla" "Cedilla" "gtk20" "/usr/share/locale" "az:ca:co:fr:gv:oc:pt:sq:tr:wa"
</code></pre></div></div>

<p>And add :en after :wa, so it looks like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"cedilla" "Cedilla" "gtk20" "/usr/share/locale" "az:ca:co:fr:gv:oc:pt:sq:tr:wa:en"
</code></pre></div></div>

<p>Do the same with file /usr/lib/i386-linux-gnu/gtk-3.0/3.0.0/immodules.cache as above.</p>
:ET